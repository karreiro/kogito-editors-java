(this["webpackJsonpboxed-expression-editor-showcase"]=this["webpackJsonpboxed-expression-editor-showcase"]||[]).push([[0],{113:function(e,t,n){},114:function(e,t,n){"use strict";var a;!function(e){e.Sum="+",e.Count="#",e.Min="<",e.Max=">"}(a||(a={}))},115:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return d}));var a=n(14),r=n(4),i=n(49),o=150,c=370,l=function(e,t){return[{group:t,items:[{name:e.rowOperations.insertAbove,type:i.b.RowInsertAbove},{name:e.rowOperations.insertBelow,type:i.b.RowInsertBelow},{name:e.rowOperations.delete,type:i.b.RowDelete},{name:e.rowOperations.clear,type:i.b.RowClear}]}]},s=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i="".concat(n,"-").concat(0===a?1:a),o=r.find(t,{name:i});return o?e(t,n,a+1):i},u=function(e){return e.original.entryInfo.name},d=function(e){return Object(a.a)(Object(a.a)({},e),{},{entryExpression:{uid:e.entryExpression.uid}})}},117:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.Undefined="<Undefined>",e.Any="Any",e.Boolean="boolean",e.Context="context",e.Date="date",e.DateTime="date and time",e.DateTimeDuration="days and time duration",e.Number="number",e.String="string",e.Time="time",e.YearsMonthsDuration="years and months duration"}(a||(a={}))},118:function(e,t){},119:function(e,t){},120:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.Feel="FEEL",e.Java="JAVA",e.Pmml="PMML"}(a||(a={}))},121:function(e,t,n){"use strict";var a;!function(e){e.Unique="UNIQUE",e.First="FIRST",e.Priority="PRIORITY",e.Any="ANY",e.Collect="COLLECT",e.RuleOrder="RULE ORDER",e.OutputOrder="OUTPUT ORDER"}(a||(a={}))},122:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.Undefined="<Undefined>",e.LiteralExpression="Literal expression",e.PMMLLiteralExpression="PMML Literal expression",e.Context="Context",e.DecisionTable="Decision Table",e.Relation="Relation",e.Function="Function",e.Invocation="Invocation",e.List="List"}(a||(a={}))},123:function(e,t){},124:function(e,t,n){},148:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u}));var a=n(0),r=n(14),i=n(150),o=Object(r.a)(Object(r.a)({},i.en),{},{addParameter:"Add parameter",choose:"Choose...",class:"class",clear:"Clear",columnOperations:{delete:"Delete",insertLeft:"Insert left",insertRight:"Insert right"},columns:"COLUMNS",context:"Context",contextEntry:"CONTEXT ENTRY",dataType:"Data Type",decisionTable:"Decision Table",delete:"Delete",document:"document",editContextEntry:"Edit Context Entry",editExpression:"Edit Expression",editParameter:"Edit Parameter",editParameters:"Edit parameters",editRelation:"Edit Relation",enterFunction:"Enter function",function:"Function",invocation:"Invocation",list:"List",literalExpression:"Literal expression",methodSignature:"method signature",model:"model",name:"Name",parameters:"PARAMETERS",pmml:{firstSelection:"First select PMML document",secondSelection:"Second select PMML model"},relation:"Relation",rowOperations:{clear:"Clear",delete:"Delete",insertAbove:"Insert above",insertBelow:"Insert below"},rows:"ROWS",selectExpression:"Select expression",selectFunctionKind:"Select Function Kind",selectLogicType:"Select logic type"}),c={locale:"en",dictionary:o},l=new Map([["en",o]]),s=a.createContext({});function u(){return Object(a.useContext)(s)}},172:function(e,t,n){"use strict";n.r(t),n.d(t,"App",(function(){return c}));var a=n(3),r=n(0),i=n(32),o=(n(178),n(47)),c=function(){var e={name:"Expression Name",dataType:o.DataType.Undefined},t=[{document:"mining pmml",modelsFromDocument:[{model:"MiningModelSum",parametersFromModel:[{name:"input1",dataType:o.DataType.Any},{name:"input2",dataType:o.DataType.Any},{name:"input3",dataType:o.DataType.Any}]}]},{document:"regression pmml",modelsFromDocument:[{model:"RegressionLinear",parametersFromModel:[{name:"i1",dataType:o.DataType.Number},{name:"i2",dataType:o.DataType.Number}]}]}],n=Object(r.useState)(e),i=Object(a.a)(n,2),c=i[0],l=i[1],s={selectedExpression:e};return window.beeApi={resetExpressionDefinition:function(e){return l(e)},broadcastLiteralExpressionDefinition:function(e){return l(e)},broadcastRelationExpressionDefinition:function(e){return l(e)},broadcastContextExpressionDefinition:function(e){return l(e)},broadcastListExpressionDefinition:function(e){return l(e)},broadcastInvocationExpressionDefinition:function(e){return l(e)},broadcastFunctionExpressionDefinition:function(e){return l(e)}},r.createElement("div",{className:"showcase"},r.createElement("div",{className:"boxed-expression"},r.createElement(o.BoxedExpressionEditor,{expressionDefinition:s,pmmlParams:t})),r.createElement("div",{className:"updated-json"},r.createElement("p",{className:"disclaimer"},"\u26a0 Currently, JSON gets updated only for literal expression, relation, context, list, invocation and function logic types"),r.createElement("pre",null,JSON.stringify(c,null,2))))};i.render(r.createElement(c,null),document.getElementById("root"))},178:function(e,t,n){},179:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},2:function(e,t,n){"use strict";n(113),n(114);var a=n(115);n.d(t,"DEFAULT_ENTRY_EXPRESSION_MIN_WIDTH",(function(){return a.a})),n.d(t,"DEFAULT_ENTRY_INFO_MIN_WIDTH",(function(){return a.b})),n.d(t,"generateNextAvailableEntryName",(function(){return a.c})),n.d(t,"getEntryKey",(function(){return a.d})),n.d(t,"getHandlerConfiguration",(function(){return a.e})),n.d(t,"resetEntry",(function(){return a.f}));var r=n(117);n.d(t,"DataType",(function(){return r.a}));var i=n(118);n.o(i,"FunctionKind")&&n.d(t,"FunctionKind",(function(){return i.FunctionKind})),n.o(i,"LogicType")&&n.d(t,"LogicType",(function(){return i.LogicType})),n.o(i,"TableHeaderVisibility")&&n.d(t,"TableHeaderVisibility",(function(){return i.TableHeaderVisibility})),n.o(i,"TableOperation")&&n.d(t,"TableOperation",(function(){return i.TableOperation}));var o=n(119);n.o(o,"FunctionKind")&&n.d(t,"FunctionKind",(function(){return o.FunctionKind})),n.o(o,"LogicType")&&n.d(t,"LogicType",(function(){return o.LogicType})),n.o(o,"TableHeaderVisibility")&&n.d(t,"TableHeaderVisibility",(function(){return o.TableHeaderVisibility})),n.o(o,"TableOperation")&&n.d(t,"TableOperation",(function(){return o.TableOperation}));var c=n(120);n.d(t,"FunctionKind",(function(){return c.a}));n(121);var l=n(122);n.d(t,"LogicType",(function(){return l.a}));var s=n(49);n.d(t,"TableHeaderVisibility",(function(){return s.a})),n.d(t,"TableOperation",(function(){return s.b}))},21:function(e,t,n){"use strict";var a=n(123);n.o(a,"BoxedExpressionEditorI18nContext")&&n.d(t,"BoxedExpressionEditorI18nContext",(function(){return a.BoxedExpressionEditorI18nContext})),n.o(a,"boxedExpressionEditorDictionaries")&&n.d(t,"boxedExpressionEditorDictionaries",(function(){return a.boxedExpressionEditorDictionaries})),n.o(a,"boxedExpressionEditorI18nDefaults")&&n.d(t,"boxedExpressionEditorI18nDefaults",(function(){return a.boxedExpressionEditorI18nDefaults})),n.o(a,"useBoxedExpressionEditorI18n")&&n.d(t,"useBoxedExpressionEditorI18n",(function(){return a.useBoxedExpressionEditorI18n}));var r=n(148);n.d(t,"BoxedExpressionEditorI18nContext",(function(){return r.a})),n.d(t,"boxedExpressionEditorDictionaries",(function(){return r.b})),n.d(t,"boxedExpressionEditorI18nDefaults",(function(){return r.c})),n.d(t,"useBoxedExpressionEditorI18n",(function(){return r.d}))},212:function(e,t,n){},213:function(e,t,n){},285:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},297:function(e,t,n){},47:function(e,t,n){"use strict";var a=n(81),r=n(0),i=n(32);n.d(t,"BoxedExpressionEditor",(function(){return a.a}));var o=n(2);n.o(o,"DataType")&&n.d(t,"DataType",(function(){return o.DataType})),window.renderBoxedExpressionEditor=function(e,t){i.render(r.createElement(a.a,{expressionDefinition:{selectedExpression:t}}),document.getElementById(e))}},49:function(e,t,n){"use strict";var a,r;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),function(e){e[e.Full=0]="Full",e[e.LastLevel=1]="LastLevel",e[e.SecondToLastLevel=2]="SecondToLastLevel",e[e.None=3]="None"}(a||(a={})),function(e){e[e.ColumnInsertLeft=0]="ColumnInsertLeft",e[e.ColumnInsertRight=1]="ColumnInsertRight",e[e.ColumnDelete=2]="ColumnDelete",e[e.RowInsertAbove=3]="RowInsertAbove",e[e.RowInsertBelow=4]="RowInsertBelow",e[e.RowDelete=5]="RowDelete",e[e.RowClear=6]="RowClear"}(r||(r={}))},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return Te}));n(179);var a=n(3),r=n(0),i=(n(180),n(181),n(182),n(149)),o=n(14),c=(n(183),n(2)),l=(n(184),n(185),n(50)),s=n(313),u=n(7),d=n(21),p=n(4),b=function(e){var t=e.selectedDataType,n=e.onDataTypeChange,i=e.menuAppendTo,o=Object(d.useBoxedExpressionEditorI18n)().i18n,b=Object(r.useState)(!1),m=Object(a.a)(b,2),f=m[0],E=m[1],v=Object(r.useCallback)((function(e,t){E(!1),n(t)}),[n]),O=Object(r.useCallback)((function(){return p.map(Object.values(c.DataType),(function(e){return r.createElement(l.a,{key:e,value:e,"data-ouia-component-id":e},e)}))}),[]),y=Object(r.useCallback)((function(e){var t;try{t=new RegExp(e.target.value,"i")}catch(n){return O()}return""!==e.target.value?O().filter((function(e){return t.test(e.props.value)})):O()}),[O]),x=Object(r.useCallback)((function(e){return E(e)}),[]);return r.createElement(s.a,{menuAppendTo:i,ouiaId:"edit-expression-data-type",variant:u.e.typeahead,typeAheadAriaLabel:o.choose,onToggle:x,onSelect:v,onFilter:y,isOpen:f,selections:t,hasInlineFilter:!0,inlineFilterPlaceholderText:o.choose},O())},m=(n(198),n(314)),f=(n(199),function(e){var t=e.children,n=e.arrowPlacement,a=e.body,i=e.title,o=e.appendTo,c=e.className,l=e.hasAutoWidth,s=e.minWidth;return r.createElement(m.a,{"data-ouia-component-id":"expression-popover-menu",className:"popover-menu-selector".concat(c?" "+c:""),hasAutoWidth:l,minWidth:s,position:"bottom",distance:0,id:"menu-selector",reference:n,appendTo:o,headerContent:r.createElement("div",{className:"selector-menu-title","data-ouia-component-id":"expression-popover-menu-title"},i),bodyContent:a},t)}),E=r.createContext({}),v="Expression Name",O=function(e){var t,n,i,o,l,s,u=e.children,p=e.appendTo,m=e.arrowPlacement,O=e.title,y=e.nameField,x=e.dataTypeField,j=e.selectedDataType,h=void 0===j?c.DataType.Undefined:j,T=e.selectedExpressionName,C=e.onExpressionUpdate,g=Object(r.useContext)(E),w=Object(d.useBoxedExpressionEditorI18n)().i18n;O=null!==(t=O)&&void 0!==t?t:w.editExpression,y=null!==(n=y)&&void 0!==n?n:w.name,x=null!==(i=x)&&void 0!==i?i:w.dataType,p=null!==(o=null!==(l=p)&&void 0!==l?l:null===(s=g.boxedExpressionEditorRef)||void 0===s?void 0:s.current)&&void 0!==o?o:void 0;var R=Object(r.useState)(h),k=Object(a.a)(R,2),L=k[0],I=k[1],N=Object(r.useState)(T),D=Object(a.a)(N,2),S=D[0],H=D[1];Object(r.useEffect)((function(){H(T)}),[T]),Object(r.useEffect)((function(){I(h)}),[h]);var F=Object(r.useCallback)((function(e){H(e.target.value),"blur"===e.type&&C({name:e.target.value,dataType:L})}),[L,C]),U=Object(r.useCallback)((function(e){I(e),C({name:S,dataType:e})}),[S,C]);return r.createElement(f,{title:O,arrowPlacement:m,appendTo:p,body:r.createElement("div",{className:"edit-expression-menu"},r.createElement("div",{className:"expression-name"},r.createElement("label",null,y),r.createElement("input",{type:"text",id:"expression-name","data-ouia-component-id":"edit-expression-name",value:S,onChange:F,onBlur:F,className:"form-control pf-c-form-control",placeholder:v})),r.createElement("div",{className:"expression-data-type"},r.createElement("label",null,x),r.createElement(b,{selectedDataType:L,onDataTypeChange:U})))},u)},y=(n(124),n(164)),x=n(165),j=n(11),h=n(12),T=150,C=function(e){return Math.max(Math.round(parseFloat(e+"")),T)},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return JSON.stringify(e)},w=function(){function e(t,n,a){Object(j.a)(this,e),this.element=t,this.children=n,this.depth=a,this.id=void 0,this.lastColumn=void 0,this.rect=void 0,this.parentRow=void 0}return Object(h.a)(e,[{key:"getId",value:function(){return this.id||(this.id=p.first([].slice.call(this.element.classList).filter((function(e){return e.match(/uuid-/g)})))||""),this.id}},{key:"getRect",value:function(){return this.rect||(this.rect=this.element.getBoundingClientRect()),this.rect}},{key:"isLastColumn",value:function(){var e;this.lastColumn||(this.lastColumn=(null===(e=this.getParentRow())||void 0===e?void 0:e.lastChild)===this.element.closest("th, td"));return this.lastColumn}},{key:"setWidth",value:function(e){var t=C(e);!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T;document.dispatchEvent(new CustomEvent(e,{detail:{width:t}}))}(this.getId(),t),this.element.style.width=t+"px"}},{key:"refreshWidthAsParent",value:function(){this.children.length>0&&this.setWidth(this.fetchChildWidth()+14)}},{key:"refreshWidthAsLastColumn",value:function(){var e;if(this.isLastColumn()){var t=null===(e=this.getParentRow())||void 0===e?void 0:e.getBoundingClientRect();t&&this.setWidth(Math.round(t.right)-Math.round(this.getRect().x)-1)}}},{key:"getParentRow",value:function(){return this.parentRow||(this.parentRow=this.element.closest("tr")),this.parentRow}},{key:"fetchChildWidth",value:function(){var e=this.element.querySelector("thead, tbody");return C(null===e||void 0===e?void 0:e.getBoundingClientRect().width)}}]),e}(),R=function(){function e(){Object(j.a)(this,e),this.cells=void 0}return Object(h.a)(e,[{key:"getCells",value:function(){return void 0===this.cells&&(this.cells=this.buildCells()),this.cells}},{key:"buildCells",value:function(){var e=this,t=[];return this.fetchCellElements(document.body).forEach((function(n){e.buildCell(n,t,0)})),t}},{key:"buildCell",value:function(e,t,n){var a=this,r=t.find((function(t){return t.element===e}));if(r)return r;var i=new w(e,this.fetchCellElements(e).map((function(e){return a.buildCell(e,t,n+1)})).filter((function(e){return e.depth==n+1})),n);return t.push(i),i}},{key:"fetchCellElements",value:function(e){var t=e.querySelectorAll(".react-resizable");return[].slice.call(t)}}]),e}(),k=function(){(new L).execute()},L=function(){function e(){Object(j.a)(this,e),this.domSession=void 0,this.domSession=new R}return Object(h.a)(e,[{key:"execute",value:function(){var e=this.domSession.getCells();e.sort((function(e,t){return t.depth-e.depth})).forEach(this.refreshWidthAsParent),e.sort((function(e,t){return e.depth-t.depth})).forEach(this.refreshWidthAsLastColumn)}},{key:"refreshWidthAsParent",value:function(e){e.refreshWidthAsParent()}},{key:"refreshWidthAsLastColumn",value:function(e){e.refreshWidthAsLastColumn()}}]),e}(),I=function(e){var t=e.children,n=e.height,i=void 0===n?"100%":n,o=e.minWidth,c=e.onHorizontalResizeStop,l=e.width,s=Object(r.useState)(l),u=Object(a.a)(s,2),d=u[0],b=u[1],m=Object(r.useState)(0),f=Object(a.a)(m,2),v=f[0],O=f[1],j=Object(r.useState)([]),h=Object(a.a)(j,2),g=h[0],w=h[1],k=Object(r.useContext)(E).setSupervisorHash,L=Object(r.useMemo)((function(){return"uuid-".concat(Object(x.v4)())}),[]),I=Object(r.useMemo)((function(){return null!==o&&void 0!==o?o:T}),[o]),N=Object(r.useMemo)((function(){return"".concat("100%"===i?"height-based-on-content":""," ").concat(L)}),[i,L]);Object(r.useLayoutEffect)((function(){function e(e){var t=Math.round(e.detail.width);b(t),null===c||void 0===c||c(t)}return document.addEventListener(L,e),function(){document.removeEventListener(L,e)}}),[L,c,d]);var D=Object(r.useCallback)(C,[]),S=Object(r.useCallback)((function(e,t){var n=[],a=t.element.closest("table"),r=t.getRect(),i=function(e){return null===a||void 0===a?void 0:a.contains(e.element)};if(t.isLastColumn())e.filter((function(e){return e.isLastColumn()})).forEach((function(e){n.push(e)}));else{var o=!1;e.forEach((function(e){(i(e)||function(e){var n;return null===(n=e.element)||void 0===n?void 0:n.contains(t.element)}(e))&&function(e){var t=e.getRect();return t.x<=r.x&&t.right>=r.right}(e)&&(n.push(e),e.isLastColumn()&&(o=!0))})),o&&e.filter((function(e){return e.isLastColumn()&&!i(e)})).forEach((function(e){n.push(e)}))}return n.forEach((function(e){e.element.dataset.initialWidth=e.element.style.width})),p.uniqBy(n,(function(e){return e.getId()}))}),[]),H=Object(r.useCallback)((function(){var e=(new R).getCells(),t=e.find((function(e){return e.getId()===L})),n=S(e,t),a=D(t.getRect().width);w(n),O(a)}),[S,L,D]),F=Object(r.useCallback)((function(e,t){var n=parseInt(t.size.width+"");g.forEach((function(e){var t=n-v,a=e.element;if(!(e.getId()===L)){var r=parseInt(a.dataset.initialWidth+"");a.style.width=r+t+"px"}}))}),[g,L,v]),U=Object(r.useCallback)((function(e,t){var n=D(t.size.width);g.forEach((function(e){var t=n-v,a=D(e.element.dataset.initialWidth);e.setWidth(a+t)})),k("-")}),[g,v,k,D]);return Object(r.useMemo)((function(){return r.createElement(y.ResizableBox,{className:N,width:d,minConstraints:[I,0],height:0,axis:"x",onResize:F,onResizeStop:U,onResizeStart:H,handle:r.createElement("div",{className:"pf-c-drawer"},r.createElement("div",{className:"pf-c-drawer__splitter pf-m-vertical"},r.createElement("div",{className:"pf-c-drawer__splitter-handle"})))},t)}),[N,F,U,H,t])},N=function(e){var t=e.children,n=Object(r.useContext)(E).supervisorHash;return Object(r.useEffect)((function(){var e=setTimeout(k,0);return function(){return clearTimeout(e)}}),[n]),r.createElement(r.Fragment,null,t)},D=(n(212),"editable-cell--read-mode"),S="editable-cell--edit-mode",H=function(e){var t=e.value,n=e.row.index,i=e.column.id,o=e.onCellUpdate,c=Object(r.useState)(t),l=Object(a.a)(c,2),s=l[0],u=l[1],d=Object(r.useState)(!1),p=Object(a.a)(d,2),b=p[0],m=p[1],f=Object(r.useState)(D),E=Object(a.a)(f,2),v=E[0],O=E[1],y=Object(r.useRef)(null);Object(r.useEffect)((function(){u(t)}),[t]);var x=Object(r.useCallback)((function(e){O(S),u(e.target.value)}),[]),j=Object(r.useCallback)((function(){O(D),m(!1),o(n,i,s)}),[i,n,s,o]),h=Object(r.useCallback)((function(){var e,t;m(!0),document.activeElement!==y.current&&(null===(e=y.current)||void 0===e||e.focus(),null===(t=y.current)||void 0===t||t.setSelectionRange(s.length,s.length))}),[s]),T=Object(r.useCallback)((function(e){O(S)}),[]),C=Object(r.useCallback)((function(){return"editable-cell ".concat(b?"editable-cell--selected":""," ").concat(v)}),[b,v]),g=Object(r.useCallback)((function(e){if("enter"===e.key.toLowerCase())if(e.preventDefault(),v!==D){var t=e.target.value;e.altKey||e.ctrlKey?u("".concat(t,"\n")):(u(t),O(D))}else O(S)}),[v]);return Object(r.useMemo)((function(){return r.createElement(r.Fragment,null,r.createElement("div",{onDoubleClick:T,onClick:h,className:C()},r.createElement("span",null,s),r.createElement("textarea",{ref:y,value:s||"",onFocus:h,onKeyPress:g,onChange:x,onBlur:j})))}),[s,b,v])},F=n(10),U=(n(213),n(97)),A=n(318),P=n(312),M=n(305),W=n(306),_=function(e){var t=e.tableInstance,n=e.children,a=e.headerVisibility,i=void 0===a?c.TableHeaderVisibility.Full:a,l=e.getRowKey,s=e.getColumnKey,u=e.onColumnsUpdate,d=Object(r.useCallback)((function(e,n,a){var i=0===e?"counter-cell":"data-cell",o=t.allColumns[e],c=0===e?r.createElement(r.Fragment,null,a+1):r.createElement(I,{width:"number"===typeof(null===o||void 0===o?void 0:o.width)?null===o||void 0===o?void 0:o.width:T,onHorizontalResizeStop:function(n){o.setWidth&&(!function(n){var a;null===o||void 0===o||null===(a=o.setWidth)||void 0===a||a.call(o,n),t.allColumns[e].width=n}(n),null===u||void 0===u||u(t.columns))}},r.createElement(r.Fragment,null,n.render("Cell")));return r.createElement(P.a,Object.assign({},t.getTdProps(e,a),{key:"".concat(s(n.column),"-").concat(e),"data-ouia-component-id":"expression-column-"+e,className:"".concat(i)}),c)}),[s,u,t]),p=Object(r.useCallback)((function(e,t){var n=Object(o.a)(Object(o.a)({},e.getRowProps()),{},{style:{}});return r.createElement(M.a,Object.assign({className:"table-row"},n,{key:"".concat(l(e),"-").concat(t),ouiaId:"expression-row-"+t}),e.cells.map((function(e,n){return d(n,e,t)})))}),[l,d]),b=Object(r.useMemo)((function(){return r.createElement(M.a,{className:"table-row additive-row"},r.createElement(P.a,{role:"cell",className:"empty-cell"},r.createElement("br",null)),null===n||void 0===n?void 0:n.map((function(e,t){return r.createElement(P.a,{role:"cell",key:t,className:"row-remainder-content"},e)})))}),[n]);return r.createElement(W.a,Object.assign({className:"".concat(i===c.TableHeaderVisibility.None?"missing-header":"")},t.getTableBodyProps()),t.rows.map((function(e,n){return t.prepareRow(e),p(e,n)})),n?b:null)},B=(n(285),n(307)),K=n(308),V=n(309),z=n(316),Y=function(e){var t=e.handlerConfiguration,n=e.allowedOperations,a=e.onOperation;return r.createElement(B.a,{ouiaId:"expression-table-handler-menu",className:"table-handler-menu",onSelect:function(e,t){return a(t)}},t.map((function(e){return r.createElement(K.a,{key:e.group,label:e.group,className:p.every(e.items,(function(e){return!p.includes(n,e.type)}))?"no-allowed-actions-in-group":""},r.createElement(V.a,null,e.items.map((function(e){return r.createElement(z.a,{"data-ouia-component-id":"expression-table-handler-menu-"+e.name,key:e.type,itemId:e.type,isDisabled:!p.includes(n,e.type)},e.name)}))))})))},X=function(e){var t=e.columnPrefix,n=e.tableColumns,i=e.lastSelectedColumnIndex,o=e.lastSelectedRowIndex,l=e.tableRows,s=e.onRowsUpdate,u=e.onRowAdding,d=e.showTableHandler,b=e.setShowTableHandler,f=e.tableHandlerTarget,v=e.handlerConfiguration,O=e.tableHandlerAllowedOperations,y=e.resetRowCustomFunction,x=void 0===y?function(){return{}}:y,j=e.onColumnsUpdate,h=Object(r.useContext)(E),T=Object(r.useState)(i),C=Object(a.a)(T,2),g=C[0],w=C[1],R=Object(r.useState)(o),k=Object(a.a)(R,2),L=k[0],I=k[1];Object(r.useEffect)((function(){w(i)}),[i]),Object(r.useEffect)((function(){I(o)}),[o]);var N=function(e,t,n){return[].concat(Object(F.a)(e.slice(0,t)),[n],Object(F.a)(e.slice(t)))},D=function(e,t,n){return[].concat(Object(F.a)(e.slice(0,t+1)),[n],Object(F.a)(e.slice(t+1)))},S=function(e,t){return[].concat(Object(F.a)(e.slice(0,t)),Object(F.a)(e.slice(t+1)))},H=Object(r.useCallback)((function(e){var a="".concat(t).concat(e);return p.find(n.current,{accessor:a})?H(e+1):a}),[t,n]),U=Object(r.useCallback)((function(e){return{accessor:H(e.length),label:H(e.length),dataType:c.DataType.Undefined}}),[H]),A=Object(r.useCallback)((function(e){j(e),s(l.current)}),[j,s,l]),P=Object(r.useCallback)((function(e){switch(e){case c.TableOperation.ColumnInsertLeft:A(N(n.current,g,U(n.current)));break;case c.TableOperation.ColumnInsertRight:A(D(n.current,g,U(n.current)));break;case c.TableOperation.ColumnDelete:A(S(n.current,g));break;case c.TableOperation.RowInsertAbove:s(N(l.current,L,u()));break;case c.TableOperation.RowInsertBelow:s(D(l.current,L,u()));break;case c.TableOperation.RowDelete:s(S(l.current,L));break;case c.TableOperation.RowClear:s((t=l.current,a=L,[].concat(Object(F.a)(t.slice(0,a)),[x(t[a])],Object(F.a)(t.slice(a+1)))))}var t,a;b(!1)}),[U,A,u,s,g,L,b,n,l]);return Object(r.useMemo)((function(){var e,t;return r.createElement(m.a,{className:"table-handler",hasNoPadding:!0,showClose:!1,distance:5,position:"right",isVisible:d,shouldClose:function(){return b(!1)},shouldOpen:function(e){return null===e||void 0===e?void 0:e()},reference:function(){return f},appendTo:null!==(e=null===(t=h.boxedExpressionEditorRef)||void 0===t?void 0:t.current)&&void 0!==e?e:void 0,bodyContent:r.createElement(Y,{handlerConfiguration:v,allowedOperations:O,onOperation:P})})}),[d,h.boxedExpressionEditorRef,v,O,P,b,f])},G=n(170),J=n(315),q=n(310),Q=function(e){var t=e.tableInstance,n=e.tableRows,a=e.onRowsUpdate,i=e.editColumnLabel,l=e.headerVisibility,s=void 0===l?c.TableHeaderVisibility.Full:l,u=e.skipLastHeaderGroup,d=e.getColumnKey,b=e.tableColumns,m=e.onColumnsUpdate,f=Object(r.useCallback)((function(e,t){return a(p.map(n.current,(function(n){var a=n[e];return delete n[e],n[t]=a,n})))}),[a,n]),E=Object(r.useCallback)((function(e){return function(t){var n=t.name,a=void 0===n?"":n,r=t.dataType,i=void 0===r?c.DataType.Undefined:r,o=b.current[e].accessor,l=Object(F.a)(b.current);l[e].label=a,l[e].accessor=a,l[e].dataType=i,m(l),a!==o&&f(o,a)}}),[m,b,f]),v=Object(r.useCallback)((function(e,t){return r.createElement(J.a,Object.assign({},e.getHeaderProps(),{className:"fixed-column no-clickable-cell",key:"".concat(d(e),"-").concat(t)}),r.createElement("div",{className:"header-cell","data-ouia-component-type":"expression-column-header"},e.label))}),[d]),y=Object(r.useCallback)((function(e){return r.createElement("div",{className:"header-cell-info","data-ouia-component-type":"expression-column-header-cell-info"},e.headerCellElement?e.headerCellElement:r.createElement("p",{className:"pf-u-text-truncate"},e.label),e.dataType?r.createElement("p",{className:"pf-u-text-truncate data-type"},"(",e.dataType,")"):null)}),[]),x=Object(r.useCallback)((function(e,t){b.current[e].width=t,m(b.current)}),[m,b]),j=Object(r.useCallback)((function(e,n){var a=Object(o.a)(Object(o.a)({},e.getHeaderProps()),{},{style:{}}),c=t.getThProps(e,n),l=e.width||T;return r.createElement(J.a,Object.assign({},a,c,{className:"resizable-column ".concat(e.dataType?null:"no-clickable-cell"),key:"".concat(d(e),"-").concat(n)}),r.createElement(I,{width:l,onHorizontalResizeStop:function(e){return x(n,e)}},r.createElement("div",{className:"header-cell","data-ouia-component-type":"expression-column-header"},e.dataType?r.createElement(O,{title:i,selectedExpressionName:e.label,selectedDataType:e.dataType,onExpressionUpdate:E(n),key:"".concat(d(e),"-").concat(n)},y(e)):y(e))))}),[i,d,E,x,y,t]),h=Object(r.useCallback)((function(e,t){return e.isCountColumn?v(e,t):j(e,t)}),[v,j]),C=Object(r.useCallback)((function(e){return u?p.dropRight(e.headerGroups):e.headerGroups}),[u]),g=Object(r.useMemo)((function(){return C(t).map((function(e){var t=Object(o.a)(Object(o.a)({},e.getHeaderGroupProps()),{},{style:{}}),n=t.key,a=Object(G.a)(t,["key"]);return r.createElement(M.a,Object.assign({key:n},a),e.headers.map((function(e,t){return h(e,t)})))}))}),[C,h,t]),w=Object(r.useCallback)((function(e){return r.createElement(M.a,null,p.nth(t.headerGroups,e).headers.map((function(e,t){return h(e,t)})))}),[h,t.headerGroups]);switch(s){case c.TableHeaderVisibility.Full:return r.createElement(q.a,{noWrap:!0},g);case c.TableHeaderVisibility.LastLevel:return r.createElement(q.a,{noWrap:!0},w(-1));case c.TableHeaderVisibility.SecondToLastLevel:return r.createElement(q.a,{noWrap:!0},w(-2));default:return null}},Z="no-table-context-menu",$=function(e){var t=e.tableId,n=e.children,i=e.columnPrefix,o=void 0===i?"column-":i,l=e.editColumnLabel,s=e.onColumnsUpdate,u=e.onRowsUpdate,d=e.onRowAdding,b=void 0===d?function(){return{}}:d,m=e.controllerCell,f=void 0===m?"#":m,v=e.defaultCell,O=e.rows,y=e.columns,x=e.handlerConfiguration,j=e.headerVisibility,h=e.headerLevels,T=void 0===h?0:h,C=e.skipLastHeaderGroup,g=void 0!==C&&C,w=e.getRowKey,R=void 0===w?function(e){return e.id}:w,k=e.getColumnKey,L=void 0===k?function(e){return e.id}:k,I=e.resetRowCustomFunction,N=Object(r.useRef)(null),D=Object(r.useContext)(E),S=Object(r.useState)(f),P=Object(a.a)(S,2),M=P[0],W=P[1],B=Object(r.useCallback)((function(e,t){t>0&&(p.assign(e,{columns:[{label:j===c.TableHeaderVisibility.Full?"0":M,accessor:"0",minWidth:60,width:60,disableResizing:!0,isCountColumn:!0,hideFilter:!0}]}),B(e.columns[0],t-1))}),[M,j]),K=Object(r.useCallback)((function(e,t){var n={label:e,accessor:"#",width:60,minWidth:60,isCountColumn:!0};return B(n,T),[n].concat(Object(F.a)(t))}),[B,T]),V=Object(r.useRef)(K(M,y)),z=Object(r.useRef)(O),Y=Object(r.useState)(!1),G=Object(a.a)(Y,2),J=G[0],q=G[1],$=Object(r.useState)(document.body),ee=Object(a.a)($,2),te=ee[0],ne=ee[1],ae=Object(r.useState)(p.values(c.TableOperation).map((function(e){return parseInt(e.toString())}))),re=Object(a.a)(ae,2),ie=re[0],oe=re[1],ce=Object(r.useState)(-1),le=Object(a.a)(ce,2),se=le[0],ue=le[1],de=Object(r.useState)(-1),pe=Object(a.a)(de,2),be=pe[0],me=pe[1];Object(r.useEffect)((function(){V.current=K(f,V.current.slice(1)),W(f)}),[f,K]),Object(r.useEffect)((function(){V.current=K(M,y)}),[y]),Object(r.useEffect)((function(){z.current=O}),[O]);var fe=Object(r.useCallback)((function(e){V.current=e,null===s||void 0===s||s(e.slice(1))}),[s]),Ee=Object(r.useCallback)((function(e){z.current=e,null===u||void 0===u||u(e)}),[u]),ve=Object(r.useCallback)((function(e,t,n){var a=Object(F.a)(z.current);a[e][t]=n,Ee(a)}),[Ee]),Oe=Object(r.useCallback)((function(e,t){var n=Object(F.a)(z.current);n[e]=t,Ee(n)}),[Ee]),ye={Cell:Object(r.useCallback)((function(e){var t=e.column;return t.isCountColumn?e.value:v?v[t.id](e):H(e)}),[])},xe=function(e){var t=e.closest("table")===N.current,n=!e.classList.contains(Z);return t&&n},je=function(e,t){var n,a;ne(e),null===(n=D.currentlyOpenedHandlerCallback)||void 0===n||n.call(D,!1),q(!0),null===(a=D.setCurrentlyOpenedHandlerCallback)||void 0===a||a.call(D,(function(){return q})),ue(t)},he=Object(U.useTable)({columns:V.current,data:z.current,defaultColumn:ye,onCellUpdate:ve,onRowUpdate:Oe,getThProps:function(e,t){return{onContextMenu:function(n){var a=n.target,r=!e.disableHandlerOnHeader;xe(a)&&r&&(n.preventDefault(),oe([c.TableOperation.ColumnInsertLeft,c.TableOperation.ColumnInsertRight].concat(Object(F.a)(V.current.length>2&&t>0?[c.TableOperation.ColumnDelete]:[]))),je(a,t))}}},getTdProps:function(e,t){return{onContextMenu:function(n){var a=n.target;xe(a)&&(n.preventDefault(),oe([c.TableOperation.ColumnInsertLeft,c.TableOperation.ColumnInsertRight].concat(Object(F.a)(V.current.length>2&&e>0?[c.TableOperation.ColumnDelete]:[]),[c.TableOperation.RowInsertAbove,c.TableOperation.RowInsertBelow],Object(F.a)(z.current.length>1?[c.TableOperation.RowDelete]:[]),[c.TableOperation.RowClear])),je(a,e),me(t))}}}},U.useBlockLayout,U.useResizeColumns);return r.createElement("div",{className:"table-component ".concat(t)},r.createElement(A.a,Object.assign({variant:"compact"},he.getTableProps(),{ref:N}),r.createElement(Q,{tableInstance:he,editColumnLabel:l,headerVisibility:j,skipLastHeaderGroup:g,tableRows:z,onRowsUpdate:Ee,tableColumns:V,getColumnKey:L,onColumnsUpdate:fe}),r.createElement(_,{tableInstance:he,getRowKey:R,getColumnKey:L,onColumnsUpdate:fe,headerVisibility:j},n)),J&&x?r.createElement(X,{tableColumns:V,columnPrefix:o,handlerConfiguration:x,lastSelectedColumnIndex:se,lastSelectedRowIndex:be,tableRows:z,onRowsUpdate:Ee,onRowAdding:b,showTableHandler:J,setShowTableHandler:q,tableHandlerAllowedOperations:ie,tableHandlerTarget:te,resetRowCustomFunction:I,onColumnsUpdate:fe}):null)},ee=function(e){var t=e.uid,n=e.content,i=void 0===n?"":n,l=e.dataType,s=void 0===l?c.DataType.Undefined:l,u=e.name,d=void 0===u?v:u,p=e.onUpdatingNameAndDataType,b=e.isHeadless,m=void 0!==b&&b,f=e.onUpdatingRecursiveExpression,E=e.width,y=Object(r.useState)(d),x=Object(a.a)(y,2),j=x[0],h=x[1],T=Object(r.useState)(s),C=Object(a.a)(T,2),g=C[0],w=C[1],R=Object(r.useRef)(i),k=Object(r.useRef)(E||250),L=Object(r.useCallback)((function(){var e,n,a=Object(o.a)({uid:t,name:j,dataType:g,logicType:c.LogicType.LiteralExpression,content:R.current},m||250===k.current?{}:{width:k.current});m?null===f||void 0===f||f(a):null===(e=window.beeApi)||void 0===e||null===(n=e.broadcastLiteralExpressionDefinition)||void 0===n||n.call(e,a)}),[g,j,m,f,t]),N=Object(r.useCallback)((function(e){var t=e.dataType,n=void 0===t?c.DataType.Undefined:t,a=e.name,r=void 0===a?v:a;h(r),w(n),null===p||void 0===p||p(r,n),L()}),[p,L]),D=Object(r.useCallback)((function(e){R.current=e,L()}),[L]),S=Object(r.useCallback)((function(e){k.current=e,L()}),[L]),F=Object(r.useCallback)((function(e){return r.createElement(I,{width:k.current,minWidth:250,onHorizontalResizeStop:S},e)}),[S]),U=Object(r.useMemo)((function(){return r.createElement("div",{className:"literal-expression-header"},F(r.createElement(O,{selectedExpressionName:j,selectedDataType:g,onExpressionUpdate:N},r.createElement("div",{className:"expression-info"},r.createElement("p",{className:"expression-name pf-u-text-truncate"},j),r.createElement("p",{className:"expression-data-type pf-u-text-truncate"},"(",g,")")))))}),[g,j,N,F]),A=Object(r.useMemo)((function(){return r.createElement(H,{value:R.current,row:{index:0},column:{id:null!==t&&void 0!==t?t:"-"},onCellUpdate:function(e,t,n){return D(n)}})}),[D]);return Object(r.useEffect)((function(){L()}),[L]),r.createElement("div",{className:"literal-expression"},m?null:U,r.createElement("div",{className:"literal-expression-body"},A))},te=(n(288),function(e){var t,n,i=Object(r.useContext)(E),c=Object(r.useRef)(e.selected),d=Object(r.useState)(!1),b=Object(a.a)(d,2),m=b[0],f=b[1],v=Object(r.useCallback)((function(e){return f(e)}),[]),O=Object(r.useCallback)((function(t,n){var a;f(!1),c.current=n,null===(a=e.onUpdatingRecursiveExpression)||void 0===a||a.call(e,Object(o.a)(Object(o.a)({},e),{},{selected:n}))}),[e]),y=Object(r.useCallback)((function(){return p.map(e.getOptions(),(function(e){return r.createElement(l.a,{key:e,value:e,"data-ouia-component-id":e},e)}))}),[e]),x=Object(r.useCallback)((function(){return p.includes(e.getOptions(),c.current)?c.current:void 0}),[e]),j=Object(r.useCallback)((function(){return p.isEmpty(x())}),[x]);return r.createElement(s.a,{className:"pmml-literal-expression ".concat(j()?"showing-placeholder":""),menuAppendTo:null!==(t=null===(n=i.boxedExpressionEditorRef)||void 0===n?void 0:n.current)&&void 0!==t?t:"inline",ouiaId:"pmml-literal-expression-selector",placeholderText:e.noOptionsLabel,"aria-placeholder":e.noOptionsLabel,variant:u.e.single,onToggle:v,onSelect:O,isOpen:m,selections:x()},y())}),ne=(n(289),n(290),function(e){var t=Object(d.useBoxedExpressionEditorI18n)().i18n,n=[{group:t.columns,items:[{name:t.columnOperations.insertLeft,type:c.TableOperation.ColumnInsertLeft},{name:t.columnOperations.insertRight,type:c.TableOperation.ColumnInsertRight},{name:t.columnOperations.delete,type:c.TableOperation.ColumnDelete}]},{group:t.rows,items:[{name:t.rowOperations.insertAbove,type:c.TableOperation.RowInsertAbove},{name:t.rowOperations.insertBelow,type:c.TableOperation.RowInsertBelow},{name:t.rowOperations.delete,type:c.TableOperation.RowDelete}]}],a=Object(r.useRef)(void 0===e.columns?[{name:"column-1",dataType:c.DataType.Undefined}]:e.columns),i=Object(r.useRef)(void 0===e.rows?[[""]]:e.rows),l=Object(r.useCallback)((function(){var t,n,r,c=Object(o.a)(Object(o.a)({},e),{},{columns:a.current,rows:i.current});e.isHeadless?null===(t=e.onUpdatingRecursiveExpression)||void 0===t||t.call(e,c):null===(n=window.beeApi)||void 0===n||null===(r=n.broadcastRelationExpressionDefinition)||void 0===r||r.call(n,c)}),[e]),s=Object(r.useCallback)((function(){return p.map(a.current,(function(e){return Object(o.a)({label:e.name,accessor:e.name,dataType:e.dataType},e.width?{width:e.width}:{})}))}),[]),u=Object(r.useCallback)((function(){return p.map(i.current,(function(e){return p.reduce(a.current,(function(t,n,a){return t[n.name]=e[a]||"",t}),{})}))}),[]),b=Object(r.useCallback)((function(e){i.current=p.map(e,(function(e){return p.reduce(a.current,(function(t,n){return t.push(e[n.name]||""),t}),[])})),l()}),[l]),m=Object(r.useCallback)((function(e){a.current=p.map(e,(function(e){return{name:e.accessor,dataType:e.dataType,width:e.width}})),l()}),[l]);return Object(r.useEffect)((function(){l()}),[l]),r.createElement("div",{className:"relation-expression"},r.createElement($,{columnPrefix:"column-",editColumnLabel:t.editRelation,columns:s(),rows:u(),onColumnsUpdate:m,onRowsUpdate:b,handlerConfiguration:n}))}),ae=(n(291),n(292),function(e){var t=e.expression,n=e.onUpdatingRecursiveExpression,a=e.onExpressionResetting,i=Object(r.useRef)(null),o=Object(r.useRef)(t);Object(r.useEffect)((function(){o.current=p.omit(t,"isHeadless")}),[t.logicType]);var l=Object(r.useCallback)((function(){return i.current}),[]),s=Object(r.useCallback)((function(e){o.current.logicType=e,n(p.omit(o.current,"isHeadless"))}),[n]),u=Object(r.useCallback)((function(){o.current.logicType=c.LogicType.Undefined,null===a||void 0===a||a(),n(p.omit(o.current,"isHeadless"))}),[a,n]);return r.createElement("div",{className:"entry-expression",ref:i},r.createElement(je,{isHeadless:!0,onUpdatingRecursiveExpression:n,selectedExpression:o.current,onLogicTypeUpdating:s,onLogicTypeResetting:u,getPlacementRef:l}))}),re=function(e){var t=e.data,n=e.row.index,a=e.onRowUpdate,i=t[n],c=Object(r.useRef)(Object(o.a)({uid:i.entryExpression.uid},i.entryExpression));Object(r.useEffect)((function(){c.current=i.entryExpression,a(n,Object(o.a)(Object(o.a)({},i),{},{entryExpression:c.current}))}),[i.entryExpression.logicType]);var l=Object(r.useCallback)((function(e){c.current=e,a(n,Object(o.a)(Object(o.a)({},i),{},{entryExpression:e}))}),[]);return r.createElement("div",{className:"context-entry-expression-cell"},r.createElement(ae,{expression:c.current,onUpdatingRecursiveExpression:l,onExpressionResetting:i.onExpressionResetting}))},ie=(n(293),function(e){var t=e.name,n=e.dataType,i=e.onContextEntryUpdate,o=e.editInfoPopoverLabel,c=Object(r.useState)(t),l=Object(a.a)(c,2),s=l[0],u=l[1],d=Object(r.useState)(n),p=Object(a.a)(d,2),b=p[0],m=p[1];Object(r.useEffect)((function(){u(t)}),[t]),Object(r.useEffect)((function(){m(n)}),[n]);var f=Object(r.useCallback)((function(e){var t=e.name,n=e.dataType;u(t),m(n),i(t,n)}),[i]),E=Object(r.useCallback)((function(e){return r.createElement("div",{className:"entry-definition ".concat(e)},r.createElement("p",{className:"entry-name pf-u-text-truncate",title:s},s),r.createElement("p",{className:"entry-data-type pf-u-text-truncate",title:b},"(",b,")"))}),[b,s]),v=Object(r.useMemo)((function(){return r.createElement(O,{title:o,selectedExpressionName:s,selectedDataType:b,onExpressionUpdate:f},E("with-popover-menu"))}),[o,b,s,f,E]);return r.createElement("div",{className:"entry-info"},o?v:E())}),oe=function(e){var t=e.data,n=e.row.index,i=e.onRowUpdate,c=t[n],l=Object(r.useState)(c.entryInfo),s=Object(a.a)(l,2),u=s[0],d=s[1];Object(r.useEffect)((function(){d(c.entryInfo)}),[c.entryInfo]);var p=Object(r.useCallback)((function(e,t){i(n,Object(o.a)(Object(o.a)({},c),{},{entryInfo:{name:e,dataType:t}}))}),[c,n,i]);return r.createElement("div",{className:"context-entry-info-cell"},r.createElement(ie,{name:u.name,dataType:u.dataType,onContextEntryUpdate:p,editInfoPopoverLabel:c.editInfoPopoverLabel}))},ce="ContextEntry-1",le=c.DataType.Undefined,se=function(e){var t=e.uid,n=e.name,i=void 0===n?ce:n,o=e.dataType,l=void 0===o?le:o,s=e.contextEntries,u=e.result,b=void 0===u?{}:u,m=e.renderResult,f=void 0===m||m,v=e.entryInfoWidth,O=void 0===v?c.DEFAULT_ENTRY_INFO_MIN_WIDTH:v,y=e.entryExpressionWidth,x=void 0===y?c.DEFAULT_ENTRY_EXPRESSION_MIN_WIDTH:y,j=e.isHeadless,h=void 0!==j&&j,T=e.noHandlerMenu,C=void 0!==T&&T,w=e.onUpdatingRecursiveExpression,R=Object(d.useBoxedExpressionEditorI18n)().i18n,k=Object(r.useState)(b),L=Object(a.a)(k,2),N=L[0],D=L[1],S=Object(r.useState)(O),H=Object(a.a)(S,2),F=H[0],U=H[1],A=Object(r.useState)(x),P=Object(a.a)(A,2),M=P[0],W=P[1],_=r.useContext(E).setSupervisorHash,B=Object(r.useMemo)((function(){return[{label:i,accessor:i,dataType:l,disableHandlerOnHeader:!0,columns:[{accessor:"entryInfo",disableHandlerOnHeader:!0,width:F,setWidth:U,minWidth:c.DEFAULT_ENTRY_INFO_MIN_WIDTH},{accessor:"entryExpression",disableHandlerOnHeader:!0,width:M,setWidth:W,minWidth:c.DEFAULT_ENTRY_EXPRESSION_MIN_WIDTH}]}]}),[l,M,F,i]),K=Object(r.useState)(s||[{entryInfo:{name:ce,dataType:le},entryExpression:{},editInfoPopoverLabel:R.editContextEntry}]),V=Object(a.a)(K,2),z=V[0],Y=V[1],X=Object(r.useCallback)((function(){return{entryInfo:{name:Object(c.generateNextAvailableEntryName)(p.map(z,(function(e){return e.entryInfo})),"ContextEntry"),dataType:c.DataType.Undefined},entryExpression:{},editInfoPopoverLabel:R.editContextEntry}}),[R.editContextEntry,z]),G=Object(r.useCallback)((function(){return h?c.TableHeaderVisibility.None:c.TableHeaderVisibility.SecondToLastLevel}),[h]);return Object(r.useEffect)((function(){var e,n,r=Object(a.a)(B,1)[0],i={uid:t,logicType:c.LogicType.Context,name:r.accessor,dataType:r.dataType,contextEntries:z,result:p.omit(N,"isHeadless"),entryInfoWidth:F,entryExpressionWidth:M};h?null===w||void 0===w||w(p.omit(i,["name","dataType"])):(_(g(i)),null===(e=window.beeApi)||void 0===e||null===(n=e.broadcastContextExpressionDefinition)||void 0===n||n.call(e,i))}),[B,h,w,z,N,F,M,t,_]),r.createElement("div",{className:"context-expression ".concat(t)},r.createElement($,{tableId:t,headerLevels:1,headerVisibility:G(),defaultCell:{entryInfo:oe,entryExpression:re},columns:B,rows:z,onRowAdding:X,onRowsUpdate:Y,handlerConfiguration:C?void 0:Object(c.getHandlerConfiguration)(R,R.contextEntry),getRowKey:Object(r.useCallback)(c.getEntryKey,[]),resetRowCustomFunction:Object(r.useCallback)(c.resetEntry,[])},f?[r.createElement(I,{key:"context-result",width:F,minWidth:c.DEFAULT_ENTRY_INFO_MIN_WIDTH,onHorizontalResizeStop:function(e){return U(e)}},r.createElement("div",{className:"context-result"},"<result>")),r.createElement(I,{key:"context-expression",width:M,minWidth:c.DEFAULT_ENTRY_EXPRESSION_MIN_WIDTH,onHorizontalResizeStop:function(e){return W(e)}},r.createElement(ae,{expression:N,onUpdatingRecursiveExpression:D}))]:void 0))},ue=n(93);var de=n(92),pe=n.n(de),be=function(){return r.createElement("div",null,"Decision Table")},me=(n(294),function(e){var t=e.isHeadless,n=e.items,i=e.onUpdatingRecursiveExpression,o=e.uid,l=e.width,s=void 0===l?430:l,u=Object(d.useBoxedExpressionEditorI18n)().i18n,b=Object(r.useMemo)((function(){return[{group:u.rows,items:[{name:u.rowOperations.insertAbove,type:c.TableOperation.RowInsertAbove},{name:u.rowOperations.insertBelow,type:c.TableOperation.RowInsertBelow},{name:u.rowOperations.delete,type:c.TableOperation.RowDelete},{name:u.rowOperations.clear,type:c.TableOperation.RowClear}]}]}),[u.rowOperations.clear,u.rowOperations.delete,u.rowOperations.insertAbove,u.rowOperations.insertBelow,u.rows]),m=Object(r.useCallback)((function(){return{uid:pe()(),name:"",dataType:c.DataType.Undefined,logicType:c.LogicType.LiteralExpression,content:""}}),[]),f=Object(r.useCallback)((function(){return p.isEmpty(n)?[{entryExpression:m()}]:p.map(n,(function(e){return{entryExpression:e}}))}),[m,n]),v=Object(r.useState)(f()),O=Object(a.a)(v,2),y=O[0],x=O[1],j=Object(r.useState)(s||430),h=Object(a.a)(j,2),T=h[0],C=h[1],w=Object(r.useContext)(E).setSupervisorHash,R=Object(r.useCallback)((function(e){return e.original.entryExpression.uid}),[]),k=Object(r.useCallback)((function(){return{entryExpression:m()}}),[m]);Object(r.useEffect)((function(){var e,n,a={uid:o,logicType:c.LogicType.List,width:T,items:p.map(y,(function(e){return e.entryExpression}))};t?null===i||void 0===i||i(a):(w(g(a)),null===(e=window.beeApi)||void 0===e||null===(n=e.broadcastListExpressionDefinition)||void 0===n||n.call(e,a))}),[T,y,t,i,o,w]);var L=Object(r.useCallback)((function(e){return{entryExpression:{uid:e.entryExpression.uid}}}),[]),I=Object(r.useCallback)((function(e){x(e)}),[]),N=Object(r.useMemo)((function(){return[{accessor:"list",width:T,setWidth:C}]}),[T]);return Object(r.useMemo)((function(){return r.createElement("div",{className:"list-expression"},r.createElement($,{tableId:o,headerVisibility:c.TableHeaderVisibility.None,defaultCell:{list:re},columns:N,rows:y,onRowsUpdate:I,onRowAdding:k,handlerConfiguration:b,getRowKey:R,resetRowCustomFunction:L}))}),[N,b,y,R,k,I,L,o])}),fe=(n(295),c.DataType.Undefined),Ee=function(e){var t=e.bindingEntries,n=e.dataType,i=void 0===n?fe:n,o=e.entryInfoWidth,l=void 0===o?c.DEFAULT_ENTRY_INFO_MIN_WIDTH:o,s=e.entryExpressionWidth,u=void 0===s?c.DEFAULT_ENTRY_EXPRESSION_MIN_WIDTH:s,b=e.invokedFunction,m=void 0===b?"":b,f=e.isHeadless,v=e.logicType,O=e.name,y=void 0===O?"p-1":O,x=e.onUpdatingNameAndDataType,j=e.onUpdatingRecursiveExpression,h=e.uid,T=Object(d.useBoxedExpressionEditorI18n)().i18n,C=Object(r.useState)(t||[{entryInfo:{name:"p-1",dataType:fe},entryExpression:{},editInfoPopoverLabel:T.editParameter}]),w=Object(a.a)(C,2),R=w[0],k=w[1],L=Object(r.useState)(l),I=Object(a.a)(L,2),N=I[0],D=I[1],S=Object(r.useState)(u),H=Object(a.a)(S,2),F=H[0],U=H[1],A=Object(r.useState)(m),P=Object(a.a)(A,2),M=P[0],W=P[1],_=Object(r.useContext)(E).setSupervisorHash;Object(r.useEffect)((function(){var e,t,n=Object(a.a)(V.current,1)[0],r={uid:h,logicType:v,name:n.accessor,dataType:n.dataType,bindingEntries:R,invokedFunction:M,entryInfoWidth:N,entryExpressionWidth:F},i=p.omit(r,["name","dataType"]);f?null===j||void 0===j||j(i):(_(g(i)),null===(e=window.beeApi)||void 0===e||null===(t=e.broadcastInvocationExpressionDefinition)||void 0===t||t.call(e,r))}),[F,M,N,f,v,j,R,_,h]);var B=Object(r.useCallback)((function(e){W(e.target.value)}),[]),K=r.createElement("div",{className:"function-definition-container"},r.createElement("input",{className:"function-definition pf-u-text-truncate",type:"text",placeholder:T.enterFunction,defaultValue:M,onBlur:B})),V=Object(r.useRef)([{label:y,accessor:y,dataType:i,disableHandlerOnHeader:!0,columns:[{headerCellElement:K,accessor:"functionDefinition",disableHandlerOnHeader:!0,columns:[{accessor:"entryInfo",disableHandlerOnHeader:!0,width:N,setWidth:D,minWidth:c.DEFAULT_ENTRY_INFO_MIN_WIDTH},{accessor:"entryExpression",disableHandlerOnHeader:!0,width:F,setWidth:U,minWidth:c.DEFAULT_ENTRY_EXPRESSION_MIN_WIDTH}]}]}]),z=Object(r.useCallback)((function(e){var t=Object(a.a)(e,1)[0];null===x||void 0===x||x(t.label,t.dataType);var n=Object(a.a)(V.current,1)[0];n.label=t.label,n.accessor=t.accessor,n.dataType=t.dataType}),[x]),Y=Object(r.useCallback)((function(){return{entryInfo:{name:Object(c.generateNextAvailableEntryName)(p.map(R,(function(e){return e.entryInfo})),"p"),dataType:fe},entryExpression:{},editInfoPopoverLabel:T.editParameter}}),[T.editParameter,R]),X=Object(r.useCallback)((function(){return f?c.TableHeaderVisibility.SecondToLastLevel:c.TableHeaderVisibility.Full}),[f]),G=Object(r.useCallback)((function(e){return k(e)}),[]),J=Object(r.useCallback)((function(e){return Object(c.getEntryKey)(e)}),[]),q=Object(r.useCallback)((function(e){return Object(c.resetEntry)(e)}),[]);return Object(r.useMemo)((function(){return r.createElement("div",{className:"invocation-expression ".concat(h)},r.createElement($,{tableId:h,headerLevels:2,headerVisibility:X(),skipLastHeaderGroup:!0,defaultCell:{entryInfo:oe,entryExpression:re},columns:V.current,rows:R,onColumnsUpdate:z,onRowAdding:Y,onRowsUpdate:G,handlerConfiguration:Object(c.getHandlerConfiguration)(T,T.parameters),getRowKey:J,resetRowCustomFunction:q}))}),[X,J,T,z,Y,q,R,G,h])},ve=(n(296),n(311)),Oe=function(e){var t=e.parameters,n=e.setParameters,a=Object(d.useBoxedExpressionEditorI18n)().i18n,i=Object(r.useCallback)((function(){n((function(e){return[].concat(Object(F.a)(e),[{name:Object(c.generateNextAvailableEntryName)(e,"p"),dataType:c.DataType.Undefined}])}))}),[n]),o=Object(r.useCallback)((function(e){return function(t){return n((function(n){return n[e].name=t.target.value,Object(F.a)(n)}))}}),[n]),l=Object(r.useCallback)((function(e){return function(t){n((function(n){return n[e].dataType=t,Object(F.a)(n)}))}}),[n]),s=Object(r.useCallback)((function(e){return function(){return n((function(t){return[].concat(Object(F.a)(t.slice(0,e)),Object(F.a)(t.slice(e+1)))}))}}),[n]);return r.createElement("div",{className:"parameters-editor"},r.createElement(ue.a,{variant:"tertiary",onClick:i,className:"add-parameter"},a.addParameter),r.createElement("div",{className:"parameters-container"},p.map(t,(function(e,t){return r.createElement("div",{key:"".concat(e.name,"_").concat(t),className:"parameter-entry"},r.createElement("input",{className:"parameter-name",type:"text",onBlur:o(t),defaultValue:e.name}),r.createElement(b,{selectedDataType:e.dataType,onDataTypeChange:l(t),menuAppendTo:"parent"}),r.createElement(ue.a,{variant:"danger",className:"delete-parameter",icon:r.createElement(ve.a,null),iconPosition:"left",onClick:s(t)},a.delete))}))))},ye=(n(297),function(e){var t,n,a=e.selectedFunctionKind,i=e.onFunctionKindSelect,o=Object(d.useBoxedExpressionEditorI18n)().i18n,l=Object(r.useContext)(E),s=Object(r.useCallback)((function(e){return function(t,n){i(n),e()}}),[i]),u=Object(r.useCallback)((function(){return p.map(Object.values(c.FunctionKind),(function(e){return r.createElement(z.a,{key:e,itemId:e,"data-ouia-component-id":e},e)}))}),[]);return r.createElement(f,{title:o.selectFunctionKind,appendTo:null!==(t=null===(n=l.boxedExpressionEditorRef)||void 0===n?void 0:n.current)&&void 0!==t?t:void 0,className:"function-kind-popover",hasAutoWidth:!0,body:function(e){return r.createElement(B.a,{onSelect:s(e)},r.createElement(V.a,null,u()))}},r.createElement("div",{className:"selected-function-kind"},p.first(a)))}),xe=function(e){var t=void 0===e.parametersWidth?c.DEFAULT_ENTRY_EXPRESSION_MIN_WIDTH:e.parametersWidth,n=void 0===e.formalParameters?[]:e.formalParameters,i=void 0===e.functionKind?c.FunctionKind.Feel:e.functionKind,o=Object(r.useState)(t),l=Object(a.a)(o,2),s=l[0],u=l[1],b=Object(d.useBoxedExpressionEditorI18n)().i18n,m=Object(r.useContext)(E),v=m.boxedExpressionEditorRef,O=m.setSupervisorHash,y=m.pmmlParams,x=Object(r.useState)(n),j=Object(a.a)(x,2),h=j[0],T=j[1],C=Object(r.useRef)(void 0===e.name?"p-1":e.name),w=Object(r.useRef)(void 0===e.dataType?c.DataType.Undefined:e.dataType),R=Object(r.useRef)(e.document),k=Object(r.useRef)(e.model),L=Object(r.useCallback)((function(){return function(){return v.current}}),[v]),I=Object(r.useMemo)((function(){return r.createElement(f,{title:b.editParameters,appendTo:L(),className:"parameters-editor-popover",minWidth:"400px",body:r.createElement(Oe,{parameters:h,setParameters:T})},r.createElement("div",{className:"parameters-list ".concat(p.isEmpty(h)?"empty-parameters":"")},r.createElement("p",{className:"pf-u-text-truncate"},p.isEmpty(h)?b.editParameters:"(".concat(p.join(p.map(h,(function(e){return e.name})),", "),")"))))}),[L,b.editParameters,h]),N=Object(r.useCallback)((function(){return[{label:C.current,accessor:C.current,dataType:w.current,disableHandlerOnHeader:!0,columns:[{headerCellElement:I,accessor:"parameters",disableHandlerOnHeader:!0,width:s,minWidth:c.DEFAULT_ENTRY_EXPRESSION_MIN_WIDTH}]}]}),[I,s]),D=Object(r.useCallback)((function(e){return[{entryInfo:{name:b.class,dataType:c.DataType.String},entryExpression:{noClearAction:!0,logicType:c.LogicType.LiteralExpression,content:e.class}},{entryInfo:{name:b.methodSignature,dataType:c.DataType.String},entryExpression:{noClearAction:!0,logicType:c.LogicType.LiteralExpression,content:e.method}}]}),[b.class,b.methodSignature]),S=Object(r.useCallback)((function(){return[{entryInfo:{name:b.document,dataType:c.DataType.String},entryExpression:{noClearAction:!0,logicType:c.LogicType.PMMLLiteralExpression,noOptionsLabel:b.pmml.firstSelection,getOptions:function(){return p.map(y,"document")},selected:R.current}},{entryInfo:{name:b.model,dataType:c.DataType.String},entryExpression:{noClearAction:!0,logicType:c.LogicType.PMMLLiteralExpression,noOptionsLabel:b.pmml.secondSelection,getOptions:function(){var e;return p.map(null===(e=p.find(y,(function(e){return e.document===R.current})))||void 0===e?void 0:e.modelsFromDocument,"model")},selected:k.current}}]}),[b.document,b.model,b.pmml.firstSelection,b.pmml.secondSelection,y]),H=Object(r.useCallback)((function(){var e,t;return(null===(e=p.find(null===(t=p.find(y,{document:R.current}))||void 0===t?void 0:t.modelsFromDocument,{model:k.current}))||void 0===e?void 0:e.parametersFromModel)||[]}),[]),F=Object(r.useCallback)((function(t){switch(t){case c.FunctionKind.Java:var n=e;return[{entryExpression:{logicType:c.LogicType.Context,noClearAction:!0,renderResult:!1,noHandlerMenu:!0,contextEntries:D(n)}}];case c.FunctionKind.Pmml:return[{entryExpression:{logicType:c.LogicType.Context,noClearAction:!0,renderResult:!1,noHandlerMenu:!0,contextEntries:S()}}];case c.FunctionKind.Feel:default:return[{entryExpression:e.expression||{logicType:c.LogicType.LiteralExpression}}]}}),[D,S,e]),U=Object(r.useRef)(N()),A=Object(r.useState)(i),P=Object(a.a)(A,2),M=P[0],W=P[1],_=Object(r.useState)(F(M)),B=Object(a.a)(_,2),K=B[0],V=B[1],z=Object(r.useCallback)((function(e,t){var n,a,r,i,o,c;return e===R.current&&p.includes(null===(n=p.nth(t.contextEntries,1))||void 0===n||null===(a=n.entryExpression)||void 0===a?void 0:a.getOptions(),null===(r=p.nth(t.contextEntries,1))||void 0===r||null===(i=r.entryExpression)||void 0===i?void 0:i.selected)?null===(o=p.nth(t.contextEntries,1))||void 0===o||null===(c=o.entryExpression)||void 0===c?void 0:c.selected:""}),[]),Y=Object(r.useCallback)((function(e,t){if(e&&T([]),t){var n=H();p.isEmpty(n)||T(n)}}),[H]),X=Object(r.useCallback)((function(e,t){switch(t){case c.FunctionKind.Java:var n,a,r,i,o,l=null===(n=p.first(K))||void 0===n?void 0:n.entryExpression,s=(null===(a=p.nth(l.contextEntries,0))||void 0===a||null===(r=a.entryExpression)||void 0===r?void 0:r.content)||"",u=(null===(i=p.nth(l.contextEntries,1))||void 0===i||null===(o=i.entryExpression)||void 0===o?void 0:o.content)||"";return p.extend(e,{class:s,method:u});case c.FunctionKind.Pmml:var d,b,m,f=null===(d=p.first(K))||void 0===d?void 0:d.entryExpression,E=(null===(b=p.nth(f.contextEntries,0))||void 0===b||null===(m=b.entryExpression)||void 0===m?void 0:m.selected)||"",v=z(E,f),O=E!==R.current,y=v!==k.current;return R.current=E,k.current=v,Y(O,y),p.extend(e,{document:E,model:v});case c.FunctionKind.Feel:default:var x;return p.extend(e,{expression:null===(x=p.first(K))||void 0===x?void 0:x.entryExpression})}}),[z,K,Y]),G=Object(r.useCallback)((function(){var t,n,r,i=Object(a.a)(U.current,1)[0],o=X({uid:e.uid,logicType:e.logicType,name:i.accessor,dataType:i.dataType,functionKind:M,formalParameters:h,parametersWidth:s},M);e.isHeadless?null===(t=e.onUpdatingRecursiveExpression)||void 0===t||t.call(e,p.omit(o,["name","dataType"])):(O(g(K)),null===(n=window.beeApi)||void 0===n||null===(r=n.broadcastFunctionExpressionDefinition)||void 0===r||r.call(n,o))}),[X,O,h,e,M,K,s]),J=Object(r.useCallback)((function(){return e.isHeadless?c.TableHeaderVisibility.LastLevel:c.TableHeaderVisibility.Full}),[e.isHeadless]),q=Object(r.useCallback)((function(e){var t=e;W(t),V([{entryExpression:{logicType:c.LogicType.Undefined}}]),setTimeout((function(){V(F(t))}),0)}),[F]),Q=Object(r.useCallback)((function(t){var n,r=Object(a.a)(t,1)[0];null===(n=e.onUpdatingNameAndDataType)||void 0===n||n.call(e,r.label,r.dataType),u(r.width);var i=Object(a.a)(U.current,1)[0];i.label=r.label,i.accessor=r.accessor,i.dataType=r.dataType,G()}),[U,e,G]);Object(r.useEffect)((function(){G()}),[K,G]),Object(r.useEffect)((function(){U.current=N()}),[h]);var Z=Object(r.useCallback)((function(e){return W(c.FunctionKind.Feel),Object(c.resetEntry)(e)}),[]);return r.createElement("div",{className:"function-expression ".concat(e.uid)},r.createElement($,{handlerConfiguration:[{group:p.upperCase(b.function),items:[{name:b.rowOperations.clear,type:c.TableOperation.RowClear}]}],columns:U.current,onColumnsUpdate:Q,rows:K,onRowsUpdate:V,headerLevels:1,headerVisibility:J(),controllerCell:Object(r.useMemo)((function(){return r.createElement(ye,{selectedFunctionKind:M,onFunctionKindSelect:q})}),[q,M]),defaultCell:{parameters:re},resetRowCustomFunction:Z}))},je=function(e){var t=e.selectedExpression,n=e.onLogicTypeUpdating,i=e.onLogicTypeResetting,o=e.onUpdatingNameAndDataType,l=e.getPlacementRef,s=e.isHeadless,u=void 0!==s&&s,b=e.onUpdatingRecursiveExpression,m=Object(d.useBoxedExpressionEditorI18n)().i18n,v=Object(r.useContext)(E),O=p.extend(t,{uid:t.uid||pe()(),isHeadless:u,onUpdatingNameAndDataType:o,onUpdatingRecursiveExpression:b}),y=function(e){return!p.isEmpty(e)&&e!==c.LogicType.Undefined},x=Object(r.useState)(y(O.logicType)),j=Object(a.a)(x,2),h=j[0],T=j[1];Object(r.useEffect)((function(){T(y(t.logicType))}),[t.logicType]);var C=function(){var e=Object(r.useRef)(null),t=Object(r.useState)("0px"),n=Object(a.a)(t,2),i=n[0],o=n[1],c=Object(r.useState)("0px"),l=Object(a.a)(c,2),s=l[0],u=l[1],d=Object(r.useState)(!1),p=Object(a.a)(d,2),b=p[0],m=p[1],f=Object(r.useCallback)((function(){b&&m(!1)}),[b]),E=Object(r.useCallback)((function(t){e.current&&e.current===t.target&&(t.preventDefault(),o("".concat(t.pageX,"px")),u("".concat(t.pageY,"px")),m(!0))}),[o,u]);return Object(r.useEffect)((function(){return document.addEventListener("click",f),document.addEventListener("contextmenu",f),document.addEventListener("contextmenu",E),function(){document.removeEventListener("click",f),document.removeEventListener("contextmenu",f),document.removeEventListener("contextmenu",E)}})),{contextMenuRef:e,contextMenuXPos:i,contextMenuYPos:s,contextMenuVisibility:b,setContextMenuVisibility:m}}(),g=C.contextMenuRef,w=C.contextMenuXPos,R=C.contextMenuYPos,k=C.contextMenuVisibility,L=C.setContextMenuVisibility,I=Object(r.useMemo)((function(){switch(O.logicType){case c.LogicType.LiteralExpression:return r.createElement(ee,O);case c.LogicType.PMMLLiteralExpression:return r.createElement(te,O);case c.LogicType.Relation:return r.createElement(ne,O);case c.LogicType.Context:return r.createElement(se,O);case c.LogicType.DecisionTable:return r.createElement(be,O);case c.LogicType.Invocation:return r.createElement(Ee,O);case c.LogicType.List:return r.createElement(me,O);case c.LogicType.Function:return r.createElement(xe,p.defaults(O,{functionKind:c.FunctionKind.Feel}));default:return O.logicType}}),[O.logicType]),N=Object(r.useCallback)((function(){return Object.values(c.LogicType).filter((function(e){return!p.includes([c.LogicType.Undefined,c.LogicType.PMMLLiteralExpression],e)}))}),[]),D=Object(r.useCallback)((function(){return p.map(N(),(function(e){return r.createElement(z.a,{key:e,itemId:e},e)}))}),[N]),S=Object(r.useCallback)((function(){return l()}),[l]),H=Object(r.useCallback)((function(){var e,t;return null!==(e=null===(t=v.boxedExpressionEditorRef)||void 0===t?void 0:t.current)&&void 0!==e?e:S}),[S,v.boxedExpressionEditorRef]),F=Object(r.useCallback)((function(e,t){T(!0),n(t)}),[n]),U=Object(r.useCallback)((function(){return r.createElement(f,{title:m.selectLogicType,arrowPlacement:S,appendTo:H(),className:"logic-type-popover",hasAutoWidth:!0,body:r.createElement(B.a,{onSelect:F},r.createElement(V.a,null,D()))})}),[m.selectLogicType,S,H,F,D]),A=Object(r.useCallback)((function(){T(!1),L(!1),i()}),[i,L]),P=Object(r.useCallback)((function(){return r.createElement("div",{className:"context-menu-container no-table-context-menu",style:{top:R,left:w}},r.createElement(ue.a,{isDisabled:!h,isSmall:!0,variant:ue.b.primary,onClick:A},m.clear))}),[h,w,R,A,m.clear]);return r.createElement("div",{className:"logic-type-selector ".concat(Z," ").concat(h?"logic-type-selected":"logic-type-not-present"),ref:g},h?I:m.selectExpression,h?null:U(),!t.noClearAction&&k?P():null)},he=function(e){var t=Object(r.useRef)(null),n=Object(r.useState)(e.selectedExpression),i=Object(a.a)(n,2),l=i[0],s=i[1],u=Object(r.useCallback)((function(e,t){s((function(n){return Object(o.a)(Object(o.a)({},n),{},{name:e,dataType:t})}))}),[]),d=Object(r.useCallback)((function(e){s((function(t){return Object(o.a)(Object(o.a)({},t),{},{logicType:e})}))}),[]),p=Object(r.useCallback)((function(){s((function(e){var t,n,a={uid:e.uid,name:e.name,dataType:e.dataType,logicType:c.LogicType.Undefined};return null===(t=window.beeApi)||void 0===t||null===(n=t.resetExpressionDefinition)||void 0===n||n.call(t,a),a}))}),[]),b=Object(r.useCallback)((function(){return t.current}),[]);return r.createElement("div",{className:"expression-container"},r.createElement("div",{className:"expression-name-and-logic-type"},r.createElement("span",{className:"expression-title"},l.name),r.createElement("span",{className:"expression-type"},"(",l.logicType||c.LogicType.Undefined,")")),r.createElement("div",{className:"expression-container-box",ref:t,"data-ouia-component-id":"expression-container"},r.createElement(je,{selectedExpression:l,onLogicTypeUpdating:d,onLogicTypeResetting:p,onUpdatingNameAndDataType:u,getPlacementRef:b})))},Te=function(e){var t=Object(r.useState)((function(){return p.identity})),n=Object(a.a)(t,2),o=n[0],c=n[1],l=Object(r.useRef)(null),s=Object(r.useState)(g(e.expressionDefinition)),u=Object(a.a)(s,2),b=u[0],m=u[1];return Object(r.useMemo)((function(){return r.createElement(i.I18nDictionariesProvider,{defaults:d.boxedExpressionEditorI18nDefaults,dictionaries:d.boxedExpressionEditorDictionaries,initialLocale:navigator.language,ctx:d.BoxedExpressionEditorI18nContext},r.createElement(E.Provider,{value:{pmmlParams:e.pmmlParams,supervisorHash:b,setSupervisorHash:m,boxedExpressionEditorRef:l,currentlyOpenedHandlerCallback:o,setCurrentlyOpenedHandlerCallback:c}},r.createElement(N,null,r.createElement("div",{className:"boxed-expression-editor",ref:l},r.createElement(he,e.expressionDefinition)))))}),[e.expressionDefinition])}}},[[172,1,2]]]);
//# sourceMappingURL=main.d9827dd2.chunk.js.map